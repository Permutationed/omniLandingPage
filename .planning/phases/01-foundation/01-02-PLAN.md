---
phase: 01-foundation
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - components/ui/button.tsx
  - app/page.tsx
  - components.json
autonomous: true

must_haves:
  truths:
    - "shadcn/ui Button component renders with correct styling"
    - "All Button variants work (default, secondary, outline, ghost, destructive)"
    - "Button uses design tokens from globals.css"
    - "Hovering button shows pointer cursor"
  artifacts:
    - path: "components/ui/button.tsx"
      provides: "Button component with variants"
      exports: ["Button", "buttonVariants"]
    - path: "components.json"
      provides: "shadcn/ui configuration"
      contains: "tailwind"
  key_links:
    - from: "components/ui/button.tsx"
      to: "lib/utils.ts"
      via: "cn utility import"
      pattern: "import.*cn.*from.*lib/utils"
    - from: "app/page.tsx"
      to: "components/ui/button.tsx"
      via: "Button component import"
      pattern: "import.*Button.*from.*components/ui/button"
---

<objective>
Initialize shadcn/ui and add Button component to verify the complete design system integration.

Purpose: Confirms that shadcn/ui works with Tailwind v4 and design tokens, establishing the pattern for all future component additions.
Output: Working Button component that uses design tokens, ready for use in navigation and CTAs.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/01-foundation/01-01-SUMMARY.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize shadcn/ui</name>
  <files>
    components.json
    lib/utils.ts
  </files>
  <action>
Run the shadcn/ui initialization command:

```bash
cd /Users/sanmaysarada/omni-card
npx shadcn@latest init
```

When prompted, select:
- Style: New York (cleaner, more professional)
- Base color: Neutral (we have our own tokens)
- CSS variables: Yes

IMPORTANT: The init command may ask about Tailwind v4 - confirm yes. It should detect the existing Tailwind v4 setup automatically.

After initialization:
1. Check that components.json was created with correct settings
2. Verify lib/utils.ts still has the cn() function (should be preserved or enhanced)
3. Check that globals.css was not overwritten - if shadcn made changes, merge carefully to keep our custom design tokens

If there are peer dependency warnings with npm, the components should still work. The warnings are about React 19 compatibility which is actually supported.
  </action>
  <verify>
Confirm components.json exists with:
- "style": "new-york"
- "tailwind.cssVariables": true (or similar v4 config)
- "aliases.components": "@/components"

Run `npm run dev` to ensure no errors were introduced.
  </verify>
  <done>
shadcn/ui is initialized with New York style and CSS variables enabled. Configuration is compatible with Tailwind v4.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add Button component</name>
  <files>
    components/ui/button.tsx
  </files>
  <action>
Add the Button component using the shadcn CLI:

```bash
cd /Users/sanmaysarada/omni-card
npx shadcn@latest add button
```

After adding, verify the button.tsx file:

1. Imports cn from "@/lib/utils"
2. Uses cva (class-variance-authority) for variant management
3. Has variants: default, destructive, outline, secondary, ghost, link
4. Has sizes: default, sm, lg, icon
5. Uses design token classes like:
   - bg-primary, text-primary-foreground
   - bg-secondary, text-secondary-foreground
   - bg-destructive, text-destructive-foreground

If the button.tsx doesn't use our design tokens correctly (e.g., uses hardcoded colors), update it to reference our CSS variable-based classes.

IMPORTANT: shadcn/ui for Tailwind v4 should generate compatible code. If it generates Tailwind v3 patterns (like `hsl(var(--primary))`), update to use `var(--primary)` directly or the Tailwind class `bg-primary`.
  </action>
  <verify>
Check that components/ui/button.tsx exists and exports Button and buttonVariants. Verify the file uses cn() and references design token classes.
  </verify>
  <done>
Button component added with all variants (default, secondary, outline, ghost, destructive, link) and sizes (sm, default, lg, icon).
  </done>
</task>

<task type="auto">
  <name>Task 3: Update verification page with Button tests</name>
  <files>
    app/page.tsx
  </files>
  <action>
Update app/page.tsx to include comprehensive Button variant testing:

```tsx
import { Button } from "@/components/ui/button"

export default function Page() {
  return (
    <main className="flex min-h-screen flex-col items-center justify-center gap-8 p-24">
      {/* Typography check */}
      <h1 className="text-4xl font-bold text-foreground">
        Omni Card Foundation
      </h1>
      <p className="text-muted-foreground">
        Design tokens and components are working correctly.
      </p>

      {/* Color token check */}
      <div className="flex flex-wrap gap-4">
        <div className="size-16 rounded-lg bg-primary" title="Primary" />
        <div className="size-16 rounded-lg bg-secondary" title="Secondary" />
        <div className="size-16 rounded-lg bg-accent" title="Accent" />
        <div className="size-16 rounded-lg bg-muted" title="Muted" />
        <div className="size-16 rounded-lg bg-destructive" title="Destructive" />
      </div>

      {/* Button variants */}
      <div className="flex flex-wrap gap-4">
        <Button>Default</Button>
        <Button variant="secondary">Secondary</Button>
        <Button variant="outline">Outline</Button>
        <Button variant="ghost">Ghost</Button>
        <Button variant="destructive">Destructive</Button>
        <Button variant="link">Link</Button>
      </div>

      {/* Button sizes */}
      <div className="flex flex-wrap items-center gap-4">
        <Button size="sm">Small</Button>
        <Button size="default">Default</Button>
        <Button size="lg">Large</Button>
        <Button size="icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <path d="M5 12h14"/>
            <path d="m12 5 7 7-7 7"/>
          </svg>
        </Button>
      </div>

      {/* Shadow check */}
      <div className="flex gap-4">
        <div className="size-16 rounded-lg bg-card shadow-sm" />
        <div className="size-16 rounded-lg bg-card shadow-md" />
        <div className="size-16 rounded-lg bg-card shadow-lg" />
      </div>

      {/* Radius check */}
      <div className="flex gap-4">
        <div className="size-16 bg-primary rounded-sm" />
        <div className="size-16 bg-primary rounded-md" />
        <div className="size-16 bg-primary rounded-lg" />
        <div className="size-16 bg-primary rounded-xl" />
      </div>
    </main>
  )
}
```

Test each button:
1. Hover to see pointer cursor (our base layer fix)
2. Click to see focus ring
3. Verify colors match design tokens
  </action>
  <verify>
Visit localhost:3000. All button variants should render:
- Default: purple background, white text
- Secondary: light gray background
- Outline: border with transparent background
- Ghost: transparent, hover shows background
- Destructive: red background
- Link: text only with underline on hover

Hover should show pointer cursor. Focus (tab) should show ring.
  </verify>
  <done>
Verification page displays all Button variants and sizes. Buttons use design tokens correctly and have proper cursor/focus states.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:

1. shadcn/ui components.json exists with correct configuration
2. components/ui/button.tsx exists and exports Button
3. Verification page at localhost:3000 shows:
   - All 6 button variants rendering correctly
   - All 4 button sizes (sm, default, lg, icon)
   - Buttons use design token colors (primary = purple, destructive = red)
   - Pointer cursor on hover
   - Focus ring on keyboard navigation (Tab key)
4. No TypeScript errors
5. No console errors
6. `npm run build` completes without errors
</verification>

<success_criteria>
- shadcn/ui initialized with New York style and CSS variables
- Button component renders with all variants using design tokens
- Button hover shows pointer cursor (Tailwind v4 fix applied)
- Button focus shows ring (accessibility)
- Build completes successfully
- Foundation phase requirements (CORE-01, CORE-02) are satisfied
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md`
</output>
