---
phase: 08-content-sections
plan: 04
type: execute
wave: 2
depends_on: ["08-01", "08-02", "08-03"]
files_modified:
  - components/content-sections/index.ts
  - app/page.tsx
autonomous: true

must_haves:
  truths:
    - "User sees Feature Grid section after How You Earn"
    - "User sees Audience Tabs section after Feature Grid"
    - "User sees Discovery Preview section after Audience Tabs"
    - "User can navigate to features via nav link"
  artifacts:
    - path: "components/content-sections/index.ts"
      provides: "Barrel export for all content sections"
      exports: ["FeatureGrid", "AudienceTabs", "DiscoveryPreview"]
    - path: "app/page.tsx"
      provides: "Updated page with all content sections integrated"
      contains: "FeatureGrid"
  key_links:
    - from: "app/page.tsx"
      to: "components/content-sections/index.ts"
      via: "content section imports"
      pattern: "import.*from.*@/components/content-sections"
---

<objective>
Integrate all content section components into the main page.

Purpose: Connect the Feature Grid, Audience Tabs, and Discovery Preview sections to the page, replacing placeholders and establishing the complete content flow.

Output: Fully integrated page with all Phase 8 sections rendering in correct order.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior plan outputs
@.planning/phases/08-content-sections/08-01-SUMMARY.md
@.planning/phases/08-content-sections/08-02-SUMMARY.md
@.planning/phases/08-content-sections/08-03-SUMMARY.md

# Current page structure
@app/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create barrel export and integrate into page</name>
  <files>
    components/content-sections/index.ts
    app/page.tsx
  </files>
  <action>
1. Create `components/content-sections/index.ts`:

Barrel export for all content sections:
```typescript
export { FeatureGrid } from './feature-grid'
export { AudienceTabs } from './audience-tabs'
export { DiscoveryPreview } from './discovery-preview'
```

2. Update `app/page.tsx`:

Current structure (from context):
- HeroSection
- HowYouEarnSection
- Features placeholder
- Calculator placeholder
- FAQ placeholder

Updated structure:
```typescript
import { HeroSection } from '@/components/hero/hero-section'
import { HowYouEarnSection } from '@/components/how-you-earn'
import { FeatureGrid, AudienceTabs, DiscoveryPreview } from '@/components/content-sections'

export default function Page() {
  return (
    <>
      <HeroSection />

      <HowYouEarnSection />

      <FeatureGrid />

      <AudienceTabs />

      <DiscoveryPreview />

      {/* Calculator */}
      <section id="calculator" className="min-h-screen flex items-center justify-center bg-muted/30">
        <div className="text-center">
          <h2 className="text-3xl font-bold mb-4">Calculator</h2>
          <p className="text-muted-foreground">Section placeholder</p>
        </div>
      </section>

      {/* FAQ */}
      <section id="faq" className="min-h-screen flex items-center justify-center">
        <div className="text-center">
          <h2 className="text-3xl font-bold mb-4">FAQ</h2>
          <p className="text-muted-foreground">Section placeholder</p>
        </div>
      </section>
    </>
  )
}
```

Section order rationale:
1. Hero - first impression, CTA
2. How You Earn - core value prop (existing)
3. Feature Grid - feature details (id="features" for nav)
4. Audience Tabs - audience-specific benefits
5. Discovery Preview - app preview with notification
6. Calculator - interactive element (Phase 9)
7. FAQ - questions (Phase 9)

Note: FeatureGrid has id="features" which matches existing nav link.
  </action>
  <verify>
    - TypeScript compiles: `npx tsc --noEmit`
    - Barrel export exists: `ls components/content-sections/index.ts`
    - Page imports content sections: `grep -l "content-sections" app/page.tsx`
    - All three sections imported: `grep -E "(FeatureGrid|AudienceTabs|DiscoveryPreview)" app/page.tsx | wc -l` returns 3+
    - Dev server runs: `npm run dev` (manual verification)
  </verify>
  <done>
    - Barrel export created at components/content-sections/index.ts
    - Page imports all three content sections
    - Sections render in correct order after How You Earn
    - Features placeholder replaced with FeatureGrid (keeps id="features")
    - Calculator and FAQ placeholders remain for Phase 9
  </done>
</task>

<task type="auto">
  <name>Task 2: Visual verification and cleanup</name>
  <files>
    (verification only - no files modified)
  </files>
  <action>
Run development server and perform visual checks:

```bash
npm run dev
```

Verification checklist:
1. Navigate to http://localhost:3000
2. Scroll past How You Earn section
3. Verify Feature Grid appears with 6 cards in responsive grid
4. Verify cards lift on hover
5. Tab through cards and verify focus ring visible
6. Scroll to Audience Tabs
7. Click "Partner Merchants" tab
8. Verify underline slides and content crossfades
9. Use arrow keys to switch tabs
10. Scroll to Discovery Preview
11. Verify phone mockup renders with map
12. Verify merchant pins animate in
13. Verify notification preview shows
14. Click "Features" in navigation
15. Verify smooth scroll to Feature Grid section

Run TypeScript check:
```bash
npx tsc --noEmit
```

Run lint check:
```bash
npm run lint
```

No file modifications in this task - purely verification.
  </action>
  <verify>
    - TypeScript compiles: `npx tsc --noEmit`
    - Lint passes: `npm run lint`
    - Dev server runs without errors
  </verify>
  <done>
    - All content sections render correctly
    - Animations work (hover lift, tab indicator, crossfade, pins)
    - Keyboard navigation works (tab focus, arrow keys)
    - Nav link scrolls to features section
    - No TypeScript or lint errors
  </done>
</task>

</tasks>

<verification>
1. TypeScript compiles without errors: `npx tsc --noEmit`
2. Lint passes: `npm run lint`
3. Dev server runs and all sections render
4. Nav link "Features" scrolls to FeatureGrid section
5. All animations function as expected
6. Keyboard accessibility verified
</verification>

<success_criteria>
- All three content sections (FeatureGrid, AudienceTabs, DiscoveryPreview) render on page
- Sections appear in correct order after How You Earn
- Navigation link to "Features" works correctly
- No console errors or TypeScript issues
- Page remains responsive across viewports
- Phase 8 requirements complete: AUD-01, AUD-02, AUD-03, FEAT-01, FEAT-02, FEAT-03, FEAT-04, DISC-01, DISC-02
</success_criteria>

<output>
After completion, create `.planning/phases/08-content-sections/08-04-SUMMARY.md`
</output>
