---
phase: 02-layout-components
plan: 04
type: execute
wave: 3
depends_on: ["02-02", "02-03"]
files_modified:
  - app/layout.tsx
  - app/page.tsx
autonomous: false

must_haves:
  truths:
    - "User sees sticky navigation with logo, section links, and 'Join Waitlist' CTA on scroll"
    - "User can tap hamburger on mobile and navigate via slide-out menu"
    - "User observes magnetic hover effect when cursor approaches CTA button"
    - "User clicks nav link and page smoothly scrolls to target section"
    - "User sees footer with logo, nav links, legal placeholders, and social icons"
  artifacts:
    - path: "app/layout.tsx"
      provides: "Root layout with Header and Footer"
      contains: ["<Header />", "<Footer />"]
    - path: "app/page.tsx"
      provides: "Page with section IDs for scroll navigation"
      contains: ["id=\"how-it-works\"", "id=\"features\"", "id=\"calculator\"", "id=\"faq\""]
  key_links:
    - from: "app/layout.tsx"
      to: "components/layout/header.tsx"
      via: "Header import"
      pattern: "import.*Header.*from"
    - from: "app/layout.tsx"
      to: "components/layout/footer.tsx"
      via: "Footer import"
      pattern: "import.*Footer.*from"
---

<objective>
Wire Header and Footer into the root layout and add section placeholder IDs to the page for smooth scroll navigation testing. Verify complete navigation and footer functionality.

Purpose: This plan integrates all Phase 2 components into the actual app, enabling end-to-end testing of navigation behavior, mobile menu, magnetic hover, smooth scroll, and footer rendering.

Output: Updated layout.tsx with Header/Footer, updated page.tsx with section placeholders, verified navigation system.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-layout-components/02-RESEARCH.md

# From Plan 01
@components/providers.tsx

# From Plan 02
@components/layout/header.tsx
@components/layout/header-nav.tsx

# From Plan 03
@components/layout/footer.tsx

# Current files to modify
@app/layout.tsx
@app/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Wire Header and Footer into layout</name>
  <files>app/layout.tsx</files>
  <action>
    Update `app/layout.tsx`:
    - Import Header from '@/components/layout/header'
    - Import Footer from '@/components/layout/footer'
    - Keep existing imports (Metadata, Inter, globals.css, Providers)
    - Keep existing metadata export
    - Keep existing inter font configuration

    Update the body content structure:
    ```tsx
    <body className="min-h-screen bg-background font-sans antialiased">
      <Providers>
        <div className="relative flex min-h-screen flex-col">
          <Header />
          <main className="flex-1">
            {children}
          </main>
          <Footer />
        </div>
      </Providers>
    </body>
    ```

    Structure notes:
    - flex flex-col on container to push footer to bottom
    - flex-1 on main to take remaining space
    - relative on container for fixed header positioning context
  </action>
  <verify>
    - `app/layout.tsx` imports Header and Footer
    - `npm run dev` runs without errors
    - Page shows header at top and footer at bottom
  </verify>
  <done>Layout renders Header above main content and Footer below</done>
</task>

<task type="auto">
  <name>Task 2: Add section placeholders for scroll navigation</name>
  <files>app/page.tsx</files>
  <action>
    Update `app/page.tsx` to include section placeholder divs with IDs that match nav links:
    - id="how-it-works"
    - id="features"
    - id="calculator"
    - id="faq"

    Create a page structure that demonstrates scroll navigation:
    ```tsx
    export default function Page() {
      return (
        <>
          {/* Hero placeholder */}
          <section className="min-h-screen flex items-center justify-center">
            <div className="text-center">
              <h1 className="text-4xl font-bold text-foreground mb-4">
                Omni Card
              </h1>
              <p className="text-muted-foreground mb-8">
                Earn rewards on your biggest expense
              </p>
            </div>
          </section>

          {/* How It Works */}
          <section id="how-it-works" className="min-h-screen flex items-center justify-center bg-muted/30">
            <div className="text-center">
              <h2 className="text-3xl font-bold mb-4">How It Works</h2>
              <p className="text-muted-foreground">Section placeholder</p>
            </div>
          </section>

          {/* Features */}
          <section id="features" className="min-h-screen flex items-center justify-center">
            <div className="text-center">
              <h2 className="text-3xl font-bold mb-4">Features</h2>
              <p className="text-muted-foreground">Section placeholder</p>
            </div>
          </section>

          {/* Calculator */}
          <section id="calculator" className="min-h-screen flex items-center justify-center bg-muted/30">
            <div className="text-center">
              <h2 className="text-3xl font-bold mb-4">Calculator</h2>
              <p className="text-muted-foreground">Section placeholder</p>
            </div>
          </section>

          {/* FAQ */}
          <section id="faq" className="min-h-screen flex items-center justify-center">
            <div className="text-center">
              <h2 className="text-3xl font-bold mb-4">FAQ</h2>
              <p className="text-muted-foreground">Section placeholder</p>
            </div>
          </section>
        </>
      )
    }
    ```

    This creates a scrollable page where:
    - Each section takes full viewport height
    - Navigation links can scroll to each section
    - Alternating backgrounds help visualize sections
  </action>
  <verify>
    - Page has sections with correct IDs
    - Scrolling shows different sections
    - Nav links scroll to correct sections
  </verify>
  <done>Page has placeholder sections with IDs matching nav links for scroll testing</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete navigation and footer system:
    1. Sticky header that hides on scroll down, shows on scroll up
    2. Desktop navigation with section links
    3. Mobile hamburger menu with slide-out Sheet
    4. Magnetic hover effect on "Join Waitlist" CTA button
    5. Smooth scroll to sections when clicking nav links
    6. Footer with logo, tagline, nav links, legal links, social icons
  </what-built>
  <how-to-verify>
    Start dev server if not running: `npm run dev`
    Open http://localhost:3000

    **Desktop verification (viewport > 768px):**
    1. Header visible at top with "Omni Card" logo, nav links, "Join Waitlist" button
    2. Scroll down - header slides up and hides
    3. Scroll up slightly - header slides back into view
    4. At top of page - header has transparent background
    5. When scrolled - header has blurred background with border
    6. Hover cursor near "Join Waitlist" button - button follows cursor with magnetic effect
    7. Click "How It Works" link - page smooth scrolls to that section
    8. Click other nav links - smooth scroll works for all
    9. Scroll to bottom - footer visible with:
       - Logo and tagline
       - Navigation column
       - Legal column (Privacy Policy, Terms of Service)
       - Social icons (Twitter, LinkedIn, Instagram)
       - Copyright with current year

    **Mobile verification (viewport < 768px or use DevTools mobile view):**
    1. Header shows logo and hamburger icon (no nav links visible)
    2. Tap hamburger - Sheet slides in from left with nav links
    3. Tap nav link - Sheet closes, page scrolls to section
    4. Tap outside Sheet or X button - Sheet closes
    5. Footer stacks vertically on mobile

    **Accessibility checks:**
    1. Tab through page - focus visible on interactive elements
    2. Hamburger has aria-label
    3. Social icons have aria-labels
  </how-to-verify>
  <resume-signal>Type "approved" to complete Phase 2, or describe any issues</resume-signal>
</task>

</tasks>

<verification>
Automated checks before human verification:
1. `npm run dev` - starts without errors
2. `npx tsc --noEmit` - no TypeScript errors
3. All Phase 2 files exist:
   - hooks/use-scroll-direction.ts
   - lib/animation-variants.ts
   - components/providers.tsx
   - components/ui/magnetic-button.tsx
   - components/ui/sheet.tsx
   - components/layout/header.tsx
   - components/layout/header-nav.tsx
   - components/layout/mobile-nav.tsx
   - components/layout/footer.tsx
   - components/layout/footer-socials.tsx
</verification>

<success_criteria>
- Header appears on all pages via layout
- Footer appears on all pages via layout
- Navigation hides/shows correctly on scroll
- Mobile menu opens/closes correctly
- Magnetic effect visible on CTA hover
- Smooth scroll works for all nav links
- Footer displays all required elements
- No console errors
- Accessibility labels present
</success_criteria>

<output>
After completion, create `.planning/phases/02-layout-components/02-04-SUMMARY.md`
</output>
